<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Disclosure Risk for Categorical Variables — measure_risk • sdcMicro</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Disclosure Risk for Categorical Variables — measure_risk"><meta property="og:description" content="The function measures the disclosure risk for weighted or unweighted data.
It computes the individual risk (and household risk if reasonable) and the
global risk. It also computes a risk threshold based on a global risk value.
Prints a 'measure_risk'-object
Prints a 'ldiversity'-object"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sdcMicro</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">5.7.8</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/sdcMicro.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/recordSwapping.html">Targeted Record Swapping</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/sdcTools/sdcMicro/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Disclosure Risk for Categorical Variables</h1>
    <small class="dont-index">Source: <a href="https://github.com/sdcTools/sdcMicro/blob/master/R/measure_risk.R" class="external-link"><code>R/measure_risk.R</code></a></small>
    <div class="hidden name"><code>measure_risk.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The function measures the disclosure risk for weighted or unweighted data.
It computes the individual risk (and household risk if reasonable) and the
global risk. It also computes a risk threshold based on a global risk value.</p>
<p>Prints a 'measure_risk'-object</p>
<p>Prints a 'ldiversity'-object</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">measure_risk</span><span class="op">(</span><span class="va">obj</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">ldiversity</span><span class="op">(</span><span class="va">obj</span>, ldiv_index <span class="op">=</span> <span class="cn">NULL</span>, l_recurs_c <span class="op">=</span> <span class="fl">2</span>, missing <span class="op">=</span> <span class="op">-</span><span class="fl">999</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'measure_risk'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'ldiversity'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-obj">obj<a class="anchor" aria-label="anchor" href="#arg-obj"></a></dt>
<dd><p>Object of class <code><a href="sdcMicroObj-class.html">sdcMicroObj-class</a></code></p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>see arguments below</p><dl><dt>data: </dt>
<dd><p>Input data, a data.frame.</p></dd>

<dt>keyVars: </dt>
<dd><p>names (or indices) of categorical key variables (for data-frame method)</p></dd>

<dt>w: </dt>
<dd><p>name of variable containing sample weights</p></dd>

<dt>hid: </dt>
<dd><p>name of the clustering variable, e.g. the household ID</p></dd>

<dt>max_global_risk: </dt>
<dd><p>Maximal global risk for threshold computation</p></dd>

<dt>fast_hier: </dt>
<dd><p>If TRUE a fast approximation is computed if household data are provided.</p></dd>


</dl></dd>


<dt id="arg-ldiv-index">ldiv_index<a class="anchor" aria-label="anchor" href="#arg-ldiv-index"></a></dt>
<dd><p>indices (or names) of the variables used for l-diversity</p></dd>


<dt id="arg-l-recurs-c">l_recurs_c<a class="anchor" aria-label="anchor" href="#arg-l-recurs-c"></a></dt>
<dd><p>l-Diversity Constant</p></dd>


<dt id="arg-missing">missing<a class="anchor" aria-label="anchor" href="#arg-missing"></a></dt>
<dd><p>a integer value to be used as missing value in the C++ routine</p></dd>


<dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>Output of measure_risk() or ldiversity()</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A modified <code><a href="sdcMicroObj-class.html">sdcMicroObj-class</a></code> object or a list with the following elements:</p><dl><dt>global_risk_ER: </dt>
<dd><p>expected number of re-identification.</p></dd>

<dt>global_risk: </dt>
<dd><p>global risk (sum of indivdual risks).</p></dd>

<dt>global_risk_pct: </dt>
<dd><p>global risk in percent.</p></dd>

<dt>Res: </dt>
<dd><p>matrix with the risk, frequency in the sample and grossed-up frequency in the population (and the hierachical risk) for each observation.</p></dd>

<dt>global_threshold: </dt>
<dd><p>for a given max_global_risk the threshold for the risk of observations.</p></dd>

<dt>max_global_risk: </dt>
<dd><p>the input max_global_risk of the function.</p></dd>

<dt>hier_risk_ER: </dt>
<dd><p>expected number of re-identification with household structure.</p></dd>

<dt>hier_risk: </dt>
<dd><p>global risk with household structure (sum of indivdual risks).</p></dd>

<dt>hier_risk_pct: </dt>
<dd><p>global risk with household structure in percent.</p></dd>

<dt>ldiverstiy: </dt>
<dd><p>Matrix with Distinct_Ldiversity,
Entropy_Ldiversity and Recursive_Ldiversity for each sensitivity variable.</p></dd>

</dl><p>Prints risk-information into the console</p>
<p>Information on L-Diversity Measures in the console</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>To be used when risk of disclosure for individuals within a family is
considered to be statistical independent.</p>
<p>Internally, function <em>freqCalc()</em> and <em>indivRisk</em> are used for
estimation.</p>
<p>Measuring individual risk: The individual risk approach based on so-called
super-population models. In such models population frequency counts are
modeled given a certain distribution.  The estimation procedure of sample
frequency counts given the population frequency counts is modeled by
assuming a negative binomial distribution. This is used for the estimation
of the individual risk. The extensive theory can be found in Skinner (1998),
the approximation formulas for the individual risk used is described in
Franconi and Polettini (2004).</p>
<p>Measuring hierarchical risk: If “hid” - the index of variable holding
information on the hierarchical cluster structures (e.g., individuals that
are clustered in households) - is provided, the hierarchical risk is
additional estimated.  Note that the risk of re-identifying an individual
within a household may also affect the probability of disclosure of other
members in the same household. Thus, the household or cluster-structure of
the data must be taken into account when estimating disclosure risks. It is
commonly assumed that the risk of re-identification of a household is the
risk that at least one member of the household can be disclosed. Thus this
probability can be simply estimated from individual risks as 1 minus the
probability that no member of the household can be identified.</p>
<p>Global risk: The sum of the individual risks in the dataset gives the
expected number of re-identifications that serves as measure of the global
risk.</p>
<p>l-Diversity: If “ldiv_index” is unequal to NULL, i.e. if the indices
of sensible variables are specified, various measures for l-diversity are
calculated. l-diverstiy is an extension of the well-known k-anonymity
approach where also the uniqueness in sensible variables for each pattern
spanned by the key variables are evaluated.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Franconi, L. and Polettini, S. (2004) <em>Individual risk
estimation in mu-Argus: a review</em>. Privacy in Statistical Databases, Lecture
Notes in Computer Science, 262–272. Springer</p>
<p>Machanavajjhala, A. and Kifer, D. and Gehrke, J. and Venkitasubramaniam, M.
(2007) <em>l-Diversity: Privacy Beyond k-Anonymity</em>.  ACM Trans. Knowl.
Discov. Data, 1(1)</p>
<p>Templ, M. Statistical Disclosure Control for Microdata: Methods and Applications in R.
<em>Springer International Publishing</em>, 287 pages, 2017. ISBN 978-3-319-50272-4.
<a href="https://doi.org/10.1007/978-3-319-50272-4" class="external-link">doi:10.1007/978-3-319-50272-4</a>
.</p>
<p>#' Templ, M. and Kowarik, A. and Meindl, B.
Statistical Disclosure Control for Micro-Data Using the R Package sdcMicro.
<em>Journal of Statistical Software</em>, <strong>67</strong> (4), 1–36, 2015. <a href="https://doi.org/10.18637/jss.v067.i04" class="external-link">doi:10.18637/jss.v067.i04</a></p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="freqCalc.html">freqCalc</a></code>, <code><a href="indivRisk.html">indivRisk</a></code></p>
<p><code>measure_risk</code></p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Alexander Kowarik, Bernhard Meindl, Matthias Templ, Bernd Prantner, minor parts of IHSN C++ source</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## measure_risk with sdcMicro objects:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">testdata</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="va">sdc</span> <span class="op">&lt;-</span> <span class="fu"><a href="sdcMicroObj-class.html">createSdcObj</a></span><span class="op">(</span><span class="va">testdata</span>,</span></span>
<span class="r-in"><span>  keyVars<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'urbrur'</span>,<span class="st">'roof'</span>,<span class="st">'walls'</span>,<span class="st">'water'</span>,<span class="st">'electcon'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>numVars<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'expend'</span>,<span class="st">'income'</span>,<span class="st">'savings'</span><span class="op">)</span>, w<span class="op">=</span><span class="st">'sampling_weight'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## risk is already estimated and available in...</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">sdc</span><span class="op">@</span><span class="va">risk</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "global"     "individual" "numeric"   </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## measure risk on data frames or matrices:</span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">measure_risk</span><span class="op">(</span><span class="va">testdata</span>,</span></span>
<span class="r-in"><span>  keyVars<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"urbrur"</span>,<span class="st">"roof"</span>,<span class="st">"walls"</span>,<span class="st">"water"</span>,<span class="st">"sex"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> --------------------------</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 165 obs. with higher risk as the main part</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Expected no. of re-identifications:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 93</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> (2.03%)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Threshold:0.03</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  (for maximal global risk0.01)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> --------------------------</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">res</span><span class="op">$</span><span class="va">Res</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             risk  fk  Fk</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] 0.002785515 359 359</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] 0.002849003 351 351</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] 0.002785515 359 359</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,] 0.002785515 359 359</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,] 0.006211180 161 161</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6,] 0.006666667 150 150</span>
<span class="r-in"><span><span class="va">resw</span> <span class="op">&lt;-</span> <span class="fu">measure_risk</span><span class="op">(</span><span class="va">testdata</span>,</span></span>
<span class="r-in"><span>  keyVars<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"urbrur"</span>,<span class="st">"roof"</span>,<span class="st">"walls"</span>,<span class="st">"water"</span>,<span class="st">"sex"</span><span class="op">)</span>,w<span class="op">=</span><span class="st">"sampling_weight"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">resw</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> --------------------------</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 0 obs. with higher risk as the main part</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Expected no. of re-identifications:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 1.53</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> (0.03%)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Threshold:Inf</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  (for maximal global risk0.01)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> --------------------------</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">resw</span><span class="op">$</span><span class="va">Res</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>              risk  fk    Fk</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] 2.793218e-05 359 35900</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,] 2.857061e-05 351 35100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,] 2.793218e-05 359 35900</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,] 2.793218e-05 359 35900</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,] 6.249609e-05 161 16100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6,] 6.710959e-05 150 15000</span>
<span class="r-in"><span><span class="va">res1</span> <span class="op">&lt;-</span> <span class="fu">ldiversity</span><span class="op">(</span><span class="va">testdata</span>,</span></span>
<span class="r-in"><span>  keyVars<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"urbrur"</span>,<span class="st">"roof"</span>,<span class="st">"walls"</span>,<span class="st">"water"</span>,<span class="st">"sex"</span><span class="op">)</span>,ldiv_index<span class="op">=</span><span class="st">"electcon"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">res1</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> --------------------------</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> L-Diversity Measures </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> --------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1.000   2.000   3.000   2.374   3.000   3.000 </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">res1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      electcon_Distinct_Ldiversity electcon_Entropy_Ldiversity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]                            3                    1.765424</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]                            3                    1.855345</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]                            3                    1.765424</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,]                            3                    1.765424</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,]                            2                    1.172525</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6,]                            2                    1.130836</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      electcon_Recursive_Ldiversity MultiEntropy_Ldiversity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]                             1                       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]                             1                       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]                             1                       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,]                             1                       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,]                             1                       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6,]                             1                       0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      MultiRecursive_Ldiversity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]                         0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]                         0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]                         0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,]                         0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,]                         0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6,]                         0</span>
<span class="r-in"><span><span class="va">res2</span> <span class="op">&lt;-</span> <span class="fu">ldiversity</span><span class="op">(</span><span class="va">testdata</span>,</span></span>
<span class="r-in"><span>  keyVars<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"urbrur"</span>,<span class="st">"roof"</span>,<span class="st">"walls"</span>,<span class="st">"water"</span>,<span class="st">"sex"</span><span class="op">)</span>,ldiv_index<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"electcon"</span>,<span class="st">"relat"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">res2</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> --------------------------</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> L-Diversity Measures </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> --------------------------</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  electcon_Distinct_Ldiversity relat_Distinct_Ldiversity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Min.   :1.000                Min.   :1.000            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  1st Qu.:2.000                1st Qu.:5.000            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Median :3.000                Median :5.000            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Mean   :2.374                Mean   :5.524            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  3rd Qu.:3.000                3rd Qu.:7.000            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  Max.   :3.000                Max.   :8.000            </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">res2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      electcon_Distinct_Ldiversity electcon_Entropy_Ldiversity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]                            3                    1.765424</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]                            3                    1.855345</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]                            3                    1.765424</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,]                            3                    1.765424</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,]                            2                    1.172525</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6,]                            2                    1.130836</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      electcon_Recursive_Ldiversity relat_Distinct_Ldiversity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]                             1                         5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]                             1                         8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]                             1                         5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,]                             1                         5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,]                             1                         5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6,]                             1                         4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      relat_Entropy_Ldiversity relat_Recursive_Ldiversity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]                 2.276001                          2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]                 2.997907                          2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]                 2.276001                          2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,]                 2.276001                          2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,]                 2.209202                          2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6,]                 2.240133                          2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      MultiEntropy_Ldiversity MultiRecursive_Ldiversity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]                       0                         0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]                       0                         0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]                       0                         0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,]                       0                         0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,]                       0                         0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6,]                       0                         0</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># measure risk with household risk</span></span></span>
<span class="r-in"><span><span class="va">resh</span> <span class="op">&lt;-</span> <span class="fu">measure_risk</span><span class="op">(</span><span class="va">testdata</span>,</span></span>
<span class="r-in"><span>  keyVars<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"urbrur"</span>,<span class="st">"roof"</span>,<span class="st">"walls"</span>,<span class="st">"water"</span>,<span class="st">"sex"</span><span class="op">)</span>,w<span class="op">=</span><span class="st">"sampling_weight"</span>,hid<span class="op">=</span><span class="st">"ori_hid"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">resh</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> --------------------------</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 0 obs. with higher risk as the main part</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Expected no. of re-identifications:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 1.53</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> (0.03%)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Threshold:Inf</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  (for maximal global risk0.01)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> --------------------------</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> --------------------------</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Hierarchical risk </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> --------------------------</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Expected no. of re-identifications:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 7.18</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> (0.16% )</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># change max_global_risk</span></span></span>
<span class="r-in"><span><span class="va">rest</span> <span class="op">&lt;-</span> <span class="fu">measure_risk</span><span class="op">(</span><span class="va">testdata</span>,</span></span>
<span class="r-in"><span>  keyVars<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"urbrur"</span>,<span class="st">"roof"</span>,<span class="st">"walls"</span>,<span class="st">"water"</span>,<span class="st">"sex"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  w<span class="op">=</span><span class="st">"sampling_weight"</span>,max_global_risk<span class="op">=</span><span class="fl">0.0001</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">rest</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> --------------------------</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 0 obs. with higher risk as the main part</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Expected no. of re-identifications:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 1.53</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> (0.03%)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Threshold:0</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  (for maximal global risk0)</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> --------------------------</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## for objects of class sdcMicro:</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">testdata2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sdc</span> <span class="op">&lt;-</span> <span class="fu"><a href="sdcMicroObj-class.html">createSdcObj</a></span><span class="op">(</span><span class="va">testdata2</span>,</span></span>
<span class="r-in"><span>  keyVars<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'urbrur'</span>,<span class="st">'roof'</span>,<span class="st">'walls'</span>,<span class="st">'water'</span>,<span class="st">'electcon'</span>,<span class="st">'relat'</span>,<span class="st">'sex'</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  numVars<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'expend'</span>,<span class="st">'income'</span>,<span class="st">'savings'</span><span class="op">)</span>, w<span class="op">=</span><span class="st">'sampling_weight'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">## -&gt; when using `createSdcObj()`, the risks are already internally computed</span></span></span>
<span class="r-in"><span><span class="co">## and it is not required to explicitely run `sdc &lt;- measure_risk(sdc)`</span></span></span>
<span class="r-in"><span><span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Matthias Templ, Bernhard Meindl, Alexander Kowarik, Johannes Gussenbauer.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer></div>






  </body></html>

