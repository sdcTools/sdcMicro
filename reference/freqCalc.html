<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Frequencies calculation for risk estimation — freqCalc • sdcMicro</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Frequencies calculation for risk estimation — freqCalc"><meta property="og:description" content="Computation and estimation of the sample and population frequency counts."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sdcMicro</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">5.7.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/sdcMicro.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/recordSwapping.html">Targeted Record Swapping</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/sdcTools/sdcMicro/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Frequencies calculation for risk estimation</h1>
    <small class="dont-index">Source: <a href="https://github.com/sdcTools/sdcMicro/blob/HEAD/R/freqCalc.r" class="external-link"><code>R/freqCalc.r</code></a></small>
    <div class="hidden name"><code>freqCalc.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Computation and estimation of the sample and population frequency counts.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">freqCalc</span><span class="op">(</span><span class="va">x</span>, <span class="va">keyVars</span>, w <span class="op">=</span> <span class="cn">NULL</span>, alpha <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>x</dt>
<dd><p>data frame or matrix</p></dd>


<dt>keyVars</dt>
<dd><p>key variables</p></dd>


<dt>w</dt>
<dd><p>column index of the weight variable. Should be set to NULL if one
deal with a population.</p></dd>


<dt>alpha</dt>
<dd><p>numeric value between 0 and 1 specifying how much keys that
contain missing values (<code>NAs</code>) should contribute to the calculation
of <code>fk</code> and <code>Fk</code>. For the default value of <code>1</code>, nothing changes with
respect to the implementation in prior versions. Each <em>wildcard-match</em> would
be counted while for <code>alpha=0</code> keys with missing values would be basically ignored.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>Object from class freqCalc.</p>
<dl><dt>freqCalc</dt>
<dd><p>data set</p></dd>

<dt>keyVars</dt>
<dd><p>variables used for frequency calculation</p></dd>

<dt>w</dt>
<dd><p>index of weight vector. NULL if you do not have a sample.</p></dd>

<dt>alpha</dt>
<dd><p>value of parameter <code>alpha</code></p></dd>

<dt>fk</dt>
<dd><p>the frequency of equal observations in
the key variables subset sample given for each observation.</p></dd>

<dt>Fk</dt>
<dd><p>estimated frequency in the population</p></dd>

<dt>n1</dt>
<dd><p>number of observations with fk=1</p></dd>

<dt>n2</dt>
<dd><p>number of observations with fk=2</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>The function considers the case of missing values in the data.  A missing
value stands for any of the possible categories of the variable considered.
It is possible to apply this function to large data sets with many
(catergorical) key variables, since the computation is done in C.</p>
<p><em>freqCalc()</em> does not support sdcMicro S4 class objects.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>look e.g. in <a href="https://research.cbs.nl/casc/deliv/12d1.pdf" class="external-link">https://research.cbs.nl/casc/deliv/12d1.pdf</a>
Templ, M.  <em>Statistical Disclosure Control for Microdata Using the
R-Package sdcMicro</em>, Transactions on Data Privacy, vol. 1, number 2, pp.
67-85, 2008.  <a href="https://www.tdp.cat/issues/abs.a004a08.php" class="external-link">https://www.tdp.cat/issues/abs.a004a08.php</a></p>
<p>Templ, M.  <em>New Developments in Statistical Disclosure Control and
Imputation: Robust Statistics Applied to Official Statistics</em>,
Suedwestdeutscher Verlag fuer Hochschulschriften, 2009, ISBN: 3838108280,
264 pages.</p>
<p>Templ, M. Statistical Disclosure Control for Microdata: Methods and Applications in R.
<em>Springer International Publishing</em>, 287 pages, 2017. ISBN 978-3-319-50272-4. <a href="https://doi.org/10.1007/978-3-319-50272-4" class="external-link">doi:10.1007/978-3-319-50272-4</a>

<a href="https://doi.org/10.1007/978-3-319-50272-4" class="external-link">doi:10.1007/978-3-319-50272-4</a></p>
<p>Templ, M. and Meindl, B.: <em>Practical Applications in Statistical
Disclosure Control Using R</em>, Privacy and Anonymity in Information Management
Systems New Techniques for New Practical Problems, Springer, 31-62, 2010,
ISBN: 978-1-84996-237-7.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="indivRisk.html">indivRisk</a></code>, <code><a href="measure_risk.html">measure_risk</a></code></p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Bernhard Meindl</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">francdat</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="va">f</span> <span class="op">&lt;-</span> <span class="fu">freqCalc</span><span class="op">(</span><span class="va">francdat</span>, keyVars<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">4</span>,<span class="fl">5</span>,<span class="fl">6</span><span class="op">)</span>,w<span class="op">=</span><span class="fl">8</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">f</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  --------------------------</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 4 obs. violate 2-anonymity </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 8 obs. violate 3-anonymity </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span>  --------------------------</span>
<span class="r-in"><span><span class="va">f</span><span class="op">$</span><span class="va">freqCalc</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Num1 Key1 Num2 Key2 Key3 Key4 Num3     w</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 0.30    1 0.40    2    5    1    4  18.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 0.12    1 0.22    2    1    1   22  45.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 0.18    1 0.80    2    1    1    8  39.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 1.90    3 9.00    3    1    5   91  17.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 1.00    4 1.30    3    1    4   13 541.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 1.00    4 1.40    3    1    1   14   8.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7 0.10    6 0.01    2    1    5    1   5.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8 0.15    1 0.50    2    5    1    5  92.0</span>
<span class="r-in"><span><span class="va">f</span><span class="op">$</span><span class="va">fk</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 2 2 2 1 1 1 1 2</span>
<span class="r-in"><span><span class="va">f</span><span class="op">$</span><span class="va">Fk</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 110.0  84.5  84.5  17.0 541.0   8.0   5.0 110.0</span>
<span class="r-in"><span><span class="co">## with missings:</span></span></span>
<span class="r-in"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="va">francdat</span></span></span>
<span class="r-in"><span><span class="va">x</span><span class="op">[</span><span class="fl">3</span>,<span class="fl">5</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span></span>
<span class="r-in"><span><span class="va">x</span><span class="op">[</span><span class="fl">4</span>,<span class="fl">2</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">[</span><span class="fl">4</span>,<span class="fl">4</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span></span>
<span class="r-in"><span><span class="va">x</span><span class="op">[</span><span class="fl">5</span>,<span class="fl">6</span><span class="op">]</span>  <span class="op">&lt;-</span> <span class="cn">NA</span></span></span>
<span class="r-in"><span><span class="va">x</span><span class="op">[</span><span class="fl">6</span>,<span class="fl">2</span><span class="op">]</span>  <span class="op">&lt;-</span> <span class="cn">NA</span></span></span>
<span class="r-in"><span><span class="va">f2</span> <span class="op">&lt;-</span> <span class="fu">freqCalc</span><span class="op">(</span><span class="va">x</span>, keyVars<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">4</span>,<span class="fl">5</span>,<span class="fl">6</span><span class="op">)</span>,w<span class="op">=</span><span class="fl">8</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">f2</span><span class="op">$</span><span class="va">fk</span>, <span class="va">f2</span><span class="op">$</span><span class="va">Fk</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      [,1]  [,2]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,]    3 149.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [2,]    2  84.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [3,]    4 194.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [4,]    3 563.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [5,]    3 566.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6,]    2 549.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [7,]    2  22.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [8,]    3 149.0</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## test parameter 'alpha'</span></span></span>
<span class="r-in"><span><span class="va">f3a</span> <span class="op">&lt;-</span> <span class="fu">freqCalc</span><span class="op">(</span><span class="va">x</span>, keyVars<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">4</span>,<span class="fl">5</span>,<span class="fl">6</span><span class="op">)</span>, w<span class="op">=</span><span class="fl">8</span>, alpha<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">f3b</span> <span class="op">&lt;-</span> <span class="fu">freqCalc</span><span class="op">(</span><span class="va">x</span>, keyVars<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">4</span>,<span class="fl">5</span>,<span class="fl">6</span><span class="op">)</span>, w<span class="op">=</span><span class="fl">8</span>, alpha<span class="op">=</span><span class="fl">0.5</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">f3c</span> <span class="op">&lt;-</span> <span class="fu">freqCalc</span><span class="op">(</span><span class="va">x</span>, keyVars<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">4</span>,<span class="fl">5</span>,<span class="fl">6</span><span class="op">)</span>, w<span class="op">=</span><span class="fl">8</span>, alpha<span class="op">=</span><span class="fl">0.1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>fka<span class="op">=</span><span class="va">f3a</span><span class="op">$</span><span class="va">fk</span>, fkb<span class="op">=</span><span class="va">f3b</span><span class="op">$</span><span class="va">fk</span>, fkc<span class="op">=</span><span class="va">f3c</span><span class="op">$</span><span class="va">fk</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   fka fkb fkc</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1   3 2.5 2.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2   2 1.5 1.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3   4 4.0 4.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4   3 2.5 2.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5   3 2.0 1.2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6   2 1.5 1.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7   2 1.5 1.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8   3 2.5 2.1</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>Fka<span class="op">=</span><span class="va">f3a</span><span class="op">$</span><span class="va">Fk</span>, Fkb<span class="op">=</span><span class="va">f3b</span><span class="op">$</span><span class="va">Fk</span>, Fkc<span class="op">=</span><span class="va">f3c</span><span class="op">$</span><span class="va">Fk</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Fka   Fkb   Fkc</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 149.0 129.5 113.9</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  84.5  65.0  49.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 194.5 194.5 194.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 563.0 292.5  76.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 566.0 553.5 543.5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 549.0 278.5  62.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7  22.0  13.5   6.7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8 149.0 129.5 113.9</span>
<span class="r-in"><span><span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Matthias Templ, Bernhard Meindl, Alexander Kowarik, Johannes Gussenbauer.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

