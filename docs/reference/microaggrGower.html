<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Microaggregation for numerical and categorical key variables based on a
distance similar to the Gower Distance — microaggrGower • sdcMicro</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
<meta property="og:title" content="Microaggregation for numerical and categorical key variables based on a
distance similar to the Gower Distance — microaggrGower" />

<meta property="og:description" content="The microaggregation is based on the distances computed similar to the Gower
distance. The distance function makes distinction between the variable types
factor,ordered,numerical and mixed (semi-continuous variables with a fixed
probability mass at a constant value e.g. 0)" />
<meta name="twitter:card" content="summary" />
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">sdcMicro</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/sdcMicro.html">Get Started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/sdcTools/sdcMicro">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Microaggregation for numerical and categorical key variables based on a
distance similar to the Gower Distance</h1>
    <small>Source: <a href='https:/github.com/sdcTools/sdcMicro/blob/master/R/maG.R'><code>R/maG.R</code></a></small>
    </div>

    
    <p>The microaggregation is based on the distances computed similar to the Gower
distance. The distance function makes distinction between the variable types
factor,ordered,numerical and mixed (semi-continuous variables with a fixed
probability mass at a constant value e.g. 0)</p>
    

    <pre class="usage"><span class='fu'>microaggrGower</span>(<span class='no'>obj</span>, <span class='kw'>variables</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>aggr</span> <span class='kw'>=</span> <span class='fl'>3</span>, <span class='kw'>dist_var</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>by</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>mixed</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>mixed.constant</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>trace</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>weights</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>numFun</span> <span class='kw'>=</span> <span class='no'>mean</span>, <span class='kw'>catFun</span> <span class='kw'>=</span> <span class='kw pkg'>VIM</span><span class='kw ns'>::</span><span class='no'><a href='http://www.rdocumentation.org/packages/VIM/topics/kNN'>sampleCat</a></span>,
  <span class='kw'>addRandom</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>obj</th>
      <td><p><code>sdcMicroObj-class</code>-object or a <code>data.frame</code></p></td>
    </tr>
    <tr>
      <th>variables</th>
      <td><p>character vector with names of variables to be aggregated
(Default for sdcMicroObj is all keyVariables and all numeric key variables)</p></td>
    </tr>
    <tr>
      <th>aggr</th>
      <td><p>aggregation level (default=3)</p></td>
    </tr>
    <tr>
      <th>dist_var</th>
      <td><p>character vector with variable names for distance
computation</p></td>
    </tr>
    <tr>
      <th>by</th>
      <td><p>character vector with variable names to split the dataset before
performing microaggregation (Default for sdcMicroObj is strataVar)</p></td>
    </tr>
    <tr>
      <th>mixed</th>
      <td><p>character vector with names of mixed variables</p></td>
    </tr>
    <tr>
      <th>mixed.constant</th>
      <td><p>numeric vector with length equal to mixed, where the
mixed variables have the probability mass</p></td>
    </tr>
    <tr>
      <th>trace</th>
      <td><p>TRUE/FALSE for some console output</p></td>
    </tr>
    <tr>
      <th>weights</th>
      <td><p>numerical vector with length equal the number of variables
for distance computation</p></td>
    </tr>
    <tr>
      <th>numFun</th>
      <td><p>function: to be used to aggregated numerical variables</p></td>
    </tr>
    <tr>
      <th>catFun</th>
      <td><p>function: to be used to aggregated categorical variables</p></td>
    </tr>
    <tr>
      <th>addRandom</th>
      <td><p>TRUE/FALS if a random value should be added for the
distance computation.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The function returns the updated sdcMicroObj or simply an altered
data frame.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The function sampleCat samples with probabilities corresponding to the
occurrence of the level in the NNs. The function maxCat chooses the level
with the most occurrences and random if the maximum is not unique.</p>
    
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>In each by group all distance are computed, therefore introducing more
by-groups significantly decreases the computation time and memory
consumption.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p><code><a href='http://www.rdocumentation.org/packages/VIM/topics/kNN'>sampleCat</a></code> and <code><a href='http://www.rdocumentation.org/packages/VIM/topics/kNN'>maxCat</a></code></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='fu'>data</span>(<span class='no'>testdata</span>,<span class='kw'>package</span><span class='kw'>=</span><span class='st'>"sdcMicro"</span>)
<span class='no'>testdata</span> <span class='kw'>&lt;-</span> <span class='no'>testdata</span>[<span class='fl'>1</span>:<span class='fl'>200</span>,]
<span class='kw'>for</span>(<span class='no'>i</span> <span class='kw'>in</span> <span class='fu'>c</span>(<span class='fl'>1</span>:<span class='fl'>7</span>,<span class='fl'>9</span>)) <span class='no'>testdata</span>[,<span class='no'>i</span>] <span class='kw'>&lt;-</span> <span class='fu'>as.factor</span>(<span class='no'>testdata</span>[,<span class='no'>i</span>])
<span class='no'>test</span> <span class='kw'>&lt;-</span> <span class='fu'>microaggrGower</span>(<span class='no'>testdata</span>,<span class='kw'>variables</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='st'>"relat"</span>,<span class='st'>"age"</span>,<span class='st'>"expend"</span>),
  <span class='kw'>dist_var</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='st'>"age"</span>,<span class='st'>"sex"</span>,<span class='st'>"income"</span>,<span class='st'>"savings"</span>),<span class='kw'>by</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='st'>"urbrur"</span>,<span class='st'>"roof"</span>))

<span class='no'>sdc</span> <span class='kw'>&lt;-</span> <span class='fu'>createSdcObj</span>(<span class='no'>testdata</span>,
  <span class='kw'>keyVars</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='st'>'urbrur'</span>,<span class='st'>'roof'</span>,<span class='st'>'walls'</span>,<span class='st'>'water'</span>,<span class='st'>'electcon'</span>,<span class='st'>'relat'</span>,<span class='st'>'sex'</span>),
  <span class='kw'>numVars</span><span class='kw'>=</span><span class='fu'>c</span>(<span class='st'>'expend'</span>,<span class='st'>'income'</span>,<span class='st'>'savings'</span>), <span class='kw'>w</span><span class='kw'>=</span><span class='st'>'sampling_weight'</span>)

<span class='no'>sdc</span> <span class='kw'>&lt;-</span> <span class='fu'>microaggrGower</span>(<span class='no'>sdc</span>)</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#note">Note</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    
Alexander Kowarik

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Bernhard Meindl, Alexander Kowarik, Matthias Templ.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>

